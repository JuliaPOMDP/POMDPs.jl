<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Implemented Policies · POMDPs.jl</title><meta name="title" content="Implemented Policies · POMDPs.jl"/><meta property="og:title" content="Implemented Policies · POMDPs.jl"/><meta property="twitter:title" content="Implemented Policies · POMDPs.jl"/><meta name="description" content="Documentation for POMDPs.jl."/><meta property="og:description" content="Documentation for POMDPs.jl."/><meta property="twitter:description" content="Documentation for POMDPs.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="POMDPs.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">POMDPs.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><span class="tocitem">Basics</span><ul><li><a class="tocitem" href="../../">POMDPs.jl</a></li><li><a class="tocitem" href="../../install/">Installation</a></li><li><a class="tocitem" href="../../get_started/">Getting Started</a></li><li><a class="tocitem" href="../../concepts/">Concepts and Architecture</a></li></ul></li><li><span class="tocitem">Defining (PO)MDP Models</span><ul><li><a class="tocitem" href="../../def_pomdp/">Defining POMDPs and MDPs</a></li><li><a class="tocitem" href="../../interfaces/">Spaces and Distributions</a></li></ul></li><li><span class="tocitem">Writing Solvers</span><ul><li><a class="tocitem" href="../../def_solver/">Solvers</a></li><li><a class="tocitem" href="../../offline_solver/">Example: Defining an offline solver</a></li><li><a class="tocitem" href="../../online_solver/">Example: Defining an online solver</a></li></ul></li><li><span class="tocitem">Writing Belief Updaters</span><ul><li><a class="tocitem" href="../../def_updater/">Defining a Belief Updater</a></li></ul></li><li><span class="tocitem">Analyzing Results</span><ul><li><a class="tocitem" href="../../simulation/">Simulation Standard</a></li><li><a class="tocitem" href="../../run_simulation/">Running Simulations</a></li><li><a class="tocitem" href="../../policy_interaction/">Interacting with Policies</a></li></ul></li><li><span class="tocitem">Examples and Gallery</span><ul><li><a class="tocitem" href="../../examples/">Examples</a></li><li><a class="tocitem" href="../../example_defining_problems/">Defining a POMDP</a></li><li><a class="tocitem" href="../../example_solvers/">Using Different Solvers</a></li><li><a class="tocitem" href="../../example_simulations/">Simulations Examples</a></li><li><a class="tocitem" href="../../example_gridworld_mdp/">GridWorld MDP Tutorial</a></li><li><a class="tocitem" href="../../gallery/">Gallery of POMDPs.jl Problems</a></li></ul></li><li><span class="tocitem">POMDPTools</span><ul><li><a class="tocitem" href="../">POMDPTools: the standard library for POMDPs.jl</a></li><li><a class="tocitem" href="../distributions/">Implemented Distributions</a></li><li><a class="tocitem" href="../model/">Model Tools</a></li><li><a class="tocitem" href="../visualization/">Visualization</a></li><li><a class="tocitem" href="../beliefs/">Implemented Belief Updaters</a></li><li class="is-active"><a class="tocitem" href>Implemented Policies</a><ul class="internal"><li><a class="tocitem" href="#Function"><span>Function</span></a></li><li><a class="tocitem" href="#Alpha-Vector-Policy"><span>Alpha Vector Policy</span></a></li><li><a class="tocitem" href="#Random-Policy"><span>Random Policy</span></a></li><li><a class="tocitem" href="#Stochastic-Policies"><span>Stochastic Policies</span></a></li><li><a class="tocitem" href="#Vector-Policies"><span>Vector Policies</span></a></li><li><a class="tocitem" href="#Value-Dict-Policy"><span>Value Dict Policy</span></a></li><li><a class="tocitem" href="#Exploration-Policies"><span>Exploration Policies</span></a></li><li><a class="tocitem" href="#Playback-Policy"><span>Playback Policy</span></a></li><li><a class="tocitem" href="#Utility-Wrapper"><span>Utility Wrapper</span></a></li><li><a class="tocitem" href="#Pretty-Printing-Policies"><span>Pretty Printing Policies</span></a></li><li class="toplevel"><a class="tocitem" href="#Policy-Evaluation"><span>Policy Evaluation</span></a></li></ul></li><li><a class="tocitem" href="../simulators/">Implemented Simulators</a></li><li><a class="tocitem" href="../common_rl/">CommonRLInterface Integration</a></li><li><a class="tocitem" href="../testing/">Testing</a></li></ul></li><li><a class="tocitem" href="../../faq/">Frequently Asked Questions (FAQ)</a></li><li><a class="tocitem" href="../../api/">API Documentation</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">POMDPTools</a></li><li class="is-active"><a href>Implemented Policies</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Implemented Policies</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaPOMDP/POMDPs.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/master/docs/src/POMDPTools/policies.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Implemented-Policies"><a class="docs-heading-anchor" href="#Implemented-Policies">Implemented Policies</a><a id="Implemented-Policies-1"></a><a class="docs-heading-anchor-permalink" href="#Implemented-Policies" title="Permalink"></a></h1><p>POMDPTools currently provides the following policy types:</p><ul><li>a wrapper to turn a function into a <code>Policy</code></li><li>an alpha vector policy type</li><li>a random policy</li><li>a stochastic policy type</li><li>exploration policies</li><li>a vector policy type</li><li>a wrapper to collect statistics and errors about policies</li></ul><p>In addition, it provides the <a href="#POMDPTools.Policies.showpolicy"><code>showpolicy</code></a> function for printing policies similar to the way that matrices are printed in the repl and the <a href="#POMDPTools.Policies.evaluate"><code>evaluate</code></a> function for evaluating MDP policies.</p><h2 id="Function"><a class="docs-heading-anchor" href="#Function">Function</a><a id="Function-1"></a><a class="docs-heading-anchor-permalink" href="#Function" title="Permalink"></a></h2><p>Wraps a <code>Function</code> mapping states to actions into a <code>Policy</code>. </p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPTools.Policies.FunctionPolicy" href="#POMDPTools.Policies.FunctionPolicy"><code>POMDPTools.Policies.FunctionPolicy</code></a> — <span class="docstring-category">Type</span></header><section><div><p>FunctionPolicy</p><p>Policy <code>p=FunctionPolicy(f)</code> returns <code>f(x)</code> when <code>action(p, x)</code> is called.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/6ffa5648b2288d02e3c3086647aa150168a31d3d/lib/POMDPTools/src/Policies/function.jl#L5-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPTools.Policies.FunctionSolver" href="#POMDPTools.Policies.FunctionSolver"><code>POMDPTools.Policies.FunctionSolver</code></a> — <span class="docstring-category">Type</span></header><section><div><p>FunctionSolver</p><p>Solver for a FunctionPolicy.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/6ffa5648b2288d02e3c3086647aa150168a31d3d/lib/POMDPTools/src/Policies/function.jl#L14-L18">source</a></section></article><h2 id="Alpha-Vector-Policy"><a class="docs-heading-anchor" href="#Alpha-Vector-Policy">Alpha Vector Policy</a><a id="Alpha-Vector-Policy-1"></a><a class="docs-heading-anchor-permalink" href="#Alpha-Vector-Policy" title="Permalink"></a></h2><p>Represents a policy with a set of alpha vectors (See <code>AlphaVectorPolicy</code> constructor docstring). In addition to finding the optimal action with <code>action</code>, the alpha vectors can be accessed with <a href="#POMDPTools.Policies.alphavectors"><code>alphavectors</code></a> or <a href="#POMDPTools.Policies.alphapairs"><code>alphapairs</code></a>.</p><p>Determining the estimated value and optimal action depends on calculating the dot product between alpha vectors and a belief vector. <a href="#POMDPTools.Policies.beliefvec"><code>POMDPTools.Policies.beliefvec(pomdp, b)</code></a> is used to create this vector and can be overridden for new belief types for efficiency.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPTools.Policies.AlphaVectorPolicy" href="#POMDPTools.Policies.AlphaVectorPolicy"><code>POMDPTools.Policies.AlphaVectorPolicy</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AlphaVectorPolicy(pomdp::POMDP, alphas, action_map)</code></pre><p>Construct a policy from alpha vectors.</p><p><strong>Arguments</strong></p><ul><li><p><code>alphas</code>: an |S| x (number of alpha vecs) matrix or a vector of alpha vectors.</p></li><li><p><code>action_map</code>: a vector of the actions correponding to each alpha vector</p><p>AlphaVectorPolicy{P&lt;:POMDP, A}</p></li></ul><p>Represents a policy with a set of alpha vectors.</p><p>Use <code>action</code> to get the best action for a belief, and <code>alphavectors</code> and <code>alphapairs</code> to </p><p><strong>Fields</strong></p><ul><li><code>pomdp::P</code> the POMDP problem </li><li><code>n_states::Int</code> the number of states in the POMDP</li><li><code>alphas::Vector{Vector{Float64}}</code> the list of alpha vectors</li><li><code>action_map::Vector{A}</code> a list of action corresponding to the alpha vectors</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/6ffa5648b2288d02e3c3086647aa150168a31d3d/lib/POMDPTools/src/Policies/alpha_vector.jl#L1-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPTools.Policies.alphavectors" href="#POMDPTools.Policies.alphavectors"><code>POMDPTools.Policies.alphavectors</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Return the alpha vectors.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/6ffa5648b2288d02e3c3086647aa150168a31d3d/lib/POMDPTools/src/Policies/alpha_vector.jl#L56-L58">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPTools.Policies.alphapairs" href="#POMDPTools.Policies.alphapairs"><code>POMDPTools.Policies.alphapairs</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Return an iterator of alpha vector-action pairs in the policy.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/6ffa5648b2288d02e3c3086647aa150168a31d3d/lib/POMDPTools/src/Policies/alpha_vector.jl#L51-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPTools.Policies.beliefvec" href="#POMDPTools.Policies.beliefvec"><code>POMDPTools.Policies.beliefvec</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">POMDPTools.Policies.beliefvec(m::POMDP, n_states::Int, b)</code></pre><p>Return a vector-like representation of the belief <code>b</code> suitable for calculating the dot product with the alpha vectors.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/6ffa5648b2288d02e3c3086647aa150168a31d3d/lib/POMDPTools/src/Policies/alpha_vector.jl#L97-L101">source</a></section></article><h2 id="Random-Policy"><a class="docs-heading-anchor" href="#Random-Policy">Random Policy</a><a id="Random-Policy-1"></a><a class="docs-heading-anchor-permalink" href="#Random-Policy" title="Permalink"></a></h2><p>A policy that returns a randomly selected action using <code>rand(rng, actions(pomdp))</code>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPTools.Policies.RandomPolicy" href="#POMDPTools.Policies.RandomPolicy"><code>POMDPTools.Policies.RandomPolicy</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RandomPolicy{RNG&lt;:AbstractRNG, P&lt;:Union{POMDP,MDP}, U&lt;:Updater}</code></pre><p>a generic policy that uses the actions function to create a list of actions and then randomly samples an action from it.</p><p>Constructor:</p><pre><code class="nohighlight hljs">`RandomPolicy(problem::Union{POMDP,MDP};
         rng=Random.default_rng(),
         updater=NothingUpdater())`</code></pre><p><strong>Fields</strong></p><ul><li><code>rng::RNG</code> a random number generator </li><li><code>probelm::P</code> the POMDP or MDP problem </li><li><code>updater::U</code> a belief updater (default to <code>NothingUpdater</code> in the above constructor)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/6ffa5648b2288d02e3c3086647aa150168a31d3d/lib/POMDPTools/src/Policies/random.jl#L3-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPTools.Policies.RandomSolver" href="#POMDPTools.Policies.RandomSolver"><code>POMDPTools.Policies.RandomSolver</code></a> — <span class="docstring-category">Type</span></header><section><div><p>solver that produces a random policy</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/6ffa5648b2288d02e3c3086647aa150168a31d3d/lib/POMDPTools/src/Policies/random.jl#L40-L42">source</a></section></article><h2 id="Stochastic-Policies"><a class="docs-heading-anchor" href="#Stochastic-Policies">Stochastic Policies</a><a id="Stochastic-Policies-1"></a><a class="docs-heading-anchor-permalink" href="#Stochastic-Policies" title="Permalink"></a></h2><p>Types for representing randomized policies:</p><ul><li><code>StochasticPolicy</code> samples actions from an arbitrary distribution.</li><li><code>UniformRandomPolicy</code> samples actions uniformly (see <code>RandomPolicy</code> for a similar use)</li><li><code>CategoricalTabularPolicy</code> samples actions from a categorical distribution with weights given by a <code>ValuePolicy</code>.</li></ul><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPTools.Policies.StochasticPolicy" href="#POMDPTools.Policies.StochasticPolicy"><code>POMDPTools.Policies.StochasticPolicy</code></a> — <span class="docstring-category">Type</span></header><section><div><p>StochasticPolicy{D, RNG &lt;: AbstractRNG}</p><p>Represents a stochastic policy. Action are sampled from an arbitrary distribution.</p><p>Constructor:</p><pre><code class="nohighlight hljs">`StochasticPolicy(distribution; rng=Random.default_rng())`</code></pre><p><strong>Fields</strong></p><ul><li><code>distribution::D</code></li><li><code>rng::RNG</code> a random number generator</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/6ffa5648b2288d02e3c3086647aa150168a31d3d/lib/POMDPTools/src/Policies/stochastic.jl#L4-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPTools.Policies.CategoricalTabularPolicy" href="#POMDPTools.Policies.CategoricalTabularPolicy"><code>POMDPTools.Policies.CategoricalTabularPolicy</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CategoricalTabularPolicy</code></pre><p>represents a stochastic policy sampling an action from a categorical distribution with weights given by a <code>ValuePolicy</code></p><p>constructor:</p><p><code>CategoricalTabularPolicy(mdp::Union{POMDP,MDP}; rng=Random.default_rng())</code></p><p><strong>Fields</strong></p><ul><li><code>stochastic::StochasticPolicy</code></li><li><code>value::ValuePolicy</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/6ffa5648b2288d02e3c3086647aa150168a31d3d/lib/POMDPTools/src/Policies/stochastic.jl#L35-L47">source</a></section></article><h2 id="Vector-Policies"><a class="docs-heading-anchor" href="#Vector-Policies">Vector Policies</a><a id="Vector-Policies-1"></a><a class="docs-heading-anchor-permalink" href="#Vector-Policies" title="Permalink"></a></h2><p>Tabular policies including the following:</p><ul><li><code>VectorPolicy</code> holds a vector of actions, one for each state, ordered according to <a href="../../api/#POMDPs.stateindex"><code>stateindex</code></a>.</li><li><code>ValuePolicy</code> holds a matrix of values for state-action pairs and chooses the action with the highest value at the given state</li></ul><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPTools.Policies.VectorPolicy" href="#POMDPTools.Policies.VectorPolicy"><code>POMDPTools.Policies.VectorPolicy</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">VectorPolicy{S,A}</code></pre><p>A generic MDP policy that consists of a vector of actions. The entry at <code>stateindex(mdp, s)</code> is the action that will be taken in state <code>s</code>.</p><p><strong>Fields</strong></p><ul><li><code>mdp::MDP{S,A}</code> the MDP problem</li><li><code>act::Vector{A}</code> a vector of size |S| mapping state indices to actions</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/6ffa5648b2288d02e3c3086647aa150168a31d3d/lib/POMDPTools/src/Policies/vector.jl#L4-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPTools.Policies.VectorSolver" href="#POMDPTools.Policies.VectorSolver"><code>POMDPTools.Policies.VectorSolver</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">VectorSolver{A}</code></pre><p>Solver for VectorPolicy. Doesn&#39;t do any computation - just sets the action vector.</p><p><strong>Fields</strong></p><ul><li><code>act::Vector{A}</code> the action vector</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/6ffa5648b2288d02e3c3086647aa150168a31d3d/lib/POMDPTools/src/Policies/vector.jl#L19-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPTools.Policies.ValuePolicy" href="#POMDPTools.Policies.ValuePolicy"><code>POMDPTools.Policies.ValuePolicy</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs"> ValuePolicy{P&lt;:Union{POMDP,MDP}, T&lt;:AbstractMatrix{Float64}, A}</code></pre><p>A generic MDP policy that consists of a value table. The entry at <code>stateindex(mdp, s)</code> is the action that will be taken in state <code>s</code>. It is expected that the order of the actions in the value table is consistent with the order of the actions in <code>act</code>.  If <code>act</code> is not explicitly set in the construction, <code>act</code> is ordered according to <code>actionindex</code>.</p><p><strong>Fields</strong></p><ul><li><code>mdp::P</code> the MDP problem</li><li><code>value_table::T</code> the value table as a |S|x|A| matrix</li><li><code>act::Vector{A}</code> the possible actions</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/6ffa5648b2288d02e3c3086647aa150168a31d3d/lib/POMDPTools/src/Policies/vector.jl#L42-L52">source</a></section></article><h2 id="Value-Dict-Policy"><a class="docs-heading-anchor" href="#Value-Dict-Policy">Value Dict Policy</a><a id="Value-Dict-Policy-1"></a><a class="docs-heading-anchor-permalink" href="#Value-Dict-Policy" title="Permalink"></a></h2><p><code>ValueDictPolicy</code> holds a dictionary of values, where the key is state-action tuple, and chooses the action with the highest value at the given state. It allows one to write solvers without enumerating state and action spaces, but actions and states must support <code>Base.isequal()</code> and <code>Base.hash()</code>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPTools.Policies.ValueDictPolicy" href="#POMDPTools.Policies.ValueDictPolicy"><code>POMDPTools.Policies.ValueDictPolicy</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs"> ValueDictPolicy(mdp)</code></pre><p>A generic MDP policy that consists of a <code>Dict</code> storing Q-values for state-action pairs. If there are no entries higher than a default value, this will fall back to a default policy.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>value_table::AbstractDict</code> the value dict, key is (s, a) Tuple.</li><li><code>default_value::Float64</code> the defalut value of <code>value_dict</code>.</li><li><code>default_policy::Policy</code> the policy taken when no action has a value higher than <code>default_value</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/6ffa5648b2288d02e3c3086647aa150168a31d3d/lib/POMDPTools/src/Policies/dict.jl#L1-L10">source</a></section></article><h2 id="Exploration-Policies"><a class="docs-heading-anchor" href="#Exploration-Policies">Exploration Policies</a><a id="Exploration-Policies-1"></a><a class="docs-heading-anchor-permalink" href="#Exploration-Policies" title="Permalink"></a></h2><p>Exploration policies are often useful for Reinforcement Learning algorithm to choose an action that is different than the action given by the policy being learned (<code>on_policy</code>). </p><p>Exploration policies are subtype of the abstract <code>ExplorationPolicy</code> type and they follow the following interface:  <code>action(exploration_policy::ExplorationPolicy, on_policy::Policy, k, s)</code>. <code>k</code> is used to compute the value of the exploration parameter (see <a href="#Schedule">Schedule</a>), and <code>s</code> is the current state or observation in which the agent is taking an action.</p><p>The <code>action</code> method is exported by <a href="https://github.com/JuliaPOMDP/POMDPs.jl">POMDPs.jl</a>.  To use exploration policies in a solver, you must use the four argument version of <code>action</code> where <code>on_policy</code> is the policy being learned (e.g. tabular policy or neural network policy).</p><p>This package provides two exploration policies: <code>EpsGreedyPolicy</code> and <code>SoftmaxPolicy</code></p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPTools.Policies.EpsGreedyPolicy" href="#POMDPTools.Policies.EpsGreedyPolicy"><code>POMDPTools.Policies.EpsGreedyPolicy</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">EpsGreedyPolicy &lt;: ExplorationPolicy</code></pre><p>represents an epsilon greedy policy, sampling a random action with a probability <code>eps</code> or returning an action from a given policy otherwise. The evolution of epsilon can be controlled using a schedule. This feature is useful for using those policies in reinforcement learning algorithms. </p><p><strong>Constructor:</strong></p><p><code>EpsGreedyPolicy(problem::Union{MDP, POMDP}, eps::Union{Function, Float64}; rng=Random.default_rng(), schedule=ConstantSchedule)</code></p><p>If a function is passed for <code>eps</code>, <code>eps(k)</code> is called to compute the value of epsilon when calling <code>action(exploration_policy, on_policy, k, s)</code>.</p><p><strong>Fields</strong></p><ul><li><code>eps::Function</code></li><li><code>rng::AbstractRNG</code></li><li><code>m::M</code> POMDPs or MDPs problem</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/6ffa5648b2288d02e3c3086647aa150168a31d3d/lib/POMDPTools/src/Policies/exploration_policies.jl#L38-L56">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPTools.Policies.SoftmaxPolicy" href="#POMDPTools.Policies.SoftmaxPolicy"><code>POMDPTools.Policies.SoftmaxPolicy</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SoftmaxPolicy &lt;: ExplorationPolicy</code></pre><p>represents a softmax policy, sampling a random action according to a softmax function.  The softmax function converts the action values of the on policy into probabilities that are used for sampling.  A temperature parameter or function can be used to make the resulting distribution more or less wide.</p><p><strong>Constructor</strong></p><p><code>SoftmaxPolicy(problem, temperature::Union{Function, Float64}; rng=Random.default_rng())</code></p><p>If a function is passed for <code>temperature</code>, <code>temperature(k)</code> is called to compute the value of the temperature when calling <code>action(exploration_policy, on_policy, k, s)</code></p><p><strong>Fields</strong></p><ul><li><code>temperature::Function</code></li><li><code>rng::AbstractRNG</code></li><li><code>actions::A</code> an indexable list of action</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/6ffa5648b2288d02e3c3086647aa150168a31d3d/lib/POMDPTools/src/Policies/exploration_policies.jl#L84-L103">source</a></section></article><h3 id="Schedule"><a class="docs-heading-anchor" href="#Schedule">Schedule</a><a id="Schedule-1"></a><a class="docs-heading-anchor-permalink" href="#Schedule" title="Permalink"></a></h3><p>Exploration policies often rely on a key parameter: <span>$\epsilon$</span> in <span>$\epsilon$</span>-greedy and the temperature in softmax for example.  Reinforcement learning algorithms often require a decay schedule for these parameters.  Schedule can be passed to an exploration policy as functions. For example one can define an epsilon greedy policy with an exponential decay schedule as follow: </p><pre><code class="language-julia hljs">    m # your mdp or pomdp model
    exploration_policy = EpsGreedyPolicy(m, k-&gt;0.05*0.9^(k/10))</code></pre><p><code>POMDPTools</code> exports a linear decay schedule object that can be used as well.  </p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPTools.Policies.LinearDecaySchedule" href="#POMDPTools.Policies.LinearDecaySchedule"><code>POMDPTools.Policies.LinearDecaySchedule</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">LinearDecaySchedule</code></pre><p>A schedule that linearly decreases a value from <code>start</code> to <code>stop</code> in <code>steps</code> steps. if the value is greater or equal to <code>stop</code>, it stays constant.</p><p><strong>Constructor</strong></p><p><code>LinearDecaySchedule(;start, stop, steps)</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/6ffa5648b2288d02e3c3086647aa150168a31d3d/lib/POMDPTools/src/Policies/exploration_policies.jl#L1-L9">source</a></section></article><h2 id="Playback-Policy"><a class="docs-heading-anchor" href="#Playback-Policy">Playback Policy</a><a id="Playback-Policy-1"></a><a class="docs-heading-anchor-permalink" href="#Playback-Policy" title="Permalink"></a></h2><p>A policy that replays a fixed sequence of actions. When all actions are used, a backup policy is used.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPTools.Policies.PlaybackPolicy" href="#POMDPTools.Policies.PlaybackPolicy"><code>POMDPTools.Policies.PlaybackPolicy</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PlaybackPolicy{A&lt;:AbstractArray, P&lt;:Policy, V&lt;:AbstractArray{&lt;:Real}}</code></pre><p>a policy that applies a fixed sequence of actions until they are all used and then falls back onto a backup policy until the end of the episode.</p><p>Constructor:</p><pre><code class="nohighlight hljs">`PlaybackPolicy(actions::AbstractArray, backup_policy::Policy; logpdfs::AbstractArray{Float64, 1} = Float64[])`</code></pre><p><strong>Fields</strong></p><ul><li><code>actions::Vector{A}</code> a vector of actions to play back</li><li><code>backup_policy::Policy</code> the policy to use when all prescribed actions have been taken but the episode continues</li><li><code>logpdfs::Vector{Float64}</code> the log probability (density) of actions</li><li><code>i::Int64</code> the current action index</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/6ffa5648b2288d02e3c3086647aa150168a31d3d/lib/POMDPTools/src/Policies/playback.jl#L2-L15">source</a></section></article><h2 id="Utility-Wrapper"><a class="docs-heading-anchor" href="#Utility-Wrapper">Utility Wrapper</a><a id="Utility-Wrapper-1"></a><a class="docs-heading-anchor-permalink" href="#Utility-Wrapper" title="Permalink"></a></h2><p>A wrapper for policies to collect statistics and handle errors.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPTools.Policies.PolicyWrapper" href="#POMDPTools.Policies.PolicyWrapper"><code>POMDPTools.Policies.PolicyWrapper</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PolicyWrapper</code></pre><p>Flexible utility wrapper for a policy designed for collecting statistics about planning.</p><p>Carries a function, a policy, and optionally a payload (that can be any type).</p><p>The function should typically be defined with the do syntax. Each time <code>action</code> is called on the wrapper, this function will be called.</p><p>If there is no payload, it will be called with two argments: the policy and the state/belief. If there is a payload, it will be called with three arguments: the policy, the payload, and the current state or belief. The function should return an appropriate action. The idea is that, in this function, <code>action(policy, s)</code> should be called, statistics from the policy/planner should be collected and saved in the payload, exceptions can be handled, and the action should be returned.</p><p>Constructor</p><p><code>PolicyWrapper(policy::Policy; payload=nothing)</code></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">using POMDPModels
using POMDPToolbox

mdp = GridWorld()
policy = RandomPolicy(mdp)
counts = Dict(a=&gt;0 for a in actions(mdp))

# with a payload
statswrapper = PolicyWrapper(policy, payload=counts) do policy, counts, s
    a = action(policy, s)
    counts[a] += 1
    return a
end

h = simulate(HistoryRecorder(max_steps=100), mdp, statswrapper)
for (a, count) in payload(statswrapper)
    println(&quot;policy chose action $a $count of $(n_steps(h)) times.&quot;)
end

# without a payload
errwrapper = PolicyWrapper(policy) do policy, s
    try
        a = action(policy, s)
    catch ex
        @warn(&quot;Caught error in policy; using default&quot;)
        a = :left
    end
    return a
end

h = simulate(HistoryRecorder(max_steps=100), mdp, errwrapper)</code></pre><p><strong>Fields</strong></p><ul><li><code>f::F</code></li><li><code>policy::P</code></li><li><code>payload::PL</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/6ffa5648b2288d02e3c3086647aa150168a31d3d/lib/POMDPTools/src/Policies/utility_wrapper.jl#L1-L56">source</a></section></article><h2 id="Pretty-Printing-Policies"><a class="docs-heading-anchor" href="#Pretty-Printing-Policies">Pretty Printing Policies</a><a id="Pretty-Printing-Policies-1"></a><a class="docs-heading-anchor-permalink" href="#Pretty-Printing-Policies" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPTools.Policies.showpolicy" href="#POMDPTools.Policies.showpolicy"><code>POMDPTools.Policies.showpolicy</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">showpolicy([io], [mime], m::MDP, p::Policy)
showpolicy([io], [mime], statelist::AbstractVector, p::Policy)
showpolicy(...; pre=&quot; &quot;)</code></pre><p>Print the states in <code>m</code> or <code>statelist</code> and the actions from policy <code>p</code> corresponding to those states.</p><p>For the MDP version, if <code>io[:limit]</code> is <code>true</code>, will only print enough states to fill the display.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/6ffa5648b2288d02e3c3086647aa150168a31d3d/lib/POMDPTools/src/Policies/pretty_printing.jl#L1-L9">source</a></section></article><h1 id="Policy-Evaluation"><a class="docs-heading-anchor" href="#Policy-Evaluation">Policy Evaluation</a><a id="Policy-Evaluation-1"></a><a class="docs-heading-anchor-permalink" href="#Policy-Evaluation" title="Permalink"></a></h1><p>The <a href="#POMDPTools.Policies.evaluate"><code>evaluate</code></a> function provides a policy evaluation tool for MDPs:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPTools.Policies.evaluate" href="#POMDPTools.Policies.evaluate"><code>POMDPTools.Policies.evaluate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">evaluate(m::MDP, p::Policy)
evaluate(m::MDP, p::Policy; rewardfunction=POMDPs.reward)</code></pre><p>Calculate the value for a policy on an MDP using the approach in equation 4.2.2 of Kochenderfer, <em>Decision Making Under Uncertainty</em>, 2015.</p><p>Returns a DiscreteValueFunction, which maps states to values.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">using POMDPTools, POMDPModels
m = SimpleGridWorld()
u = evaluate(m, FunctionPolicy(x-&gt;:left))
u([1,1]) # value of always moving left starting at state [1,1]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPOMDP/POMDPs.jl/blob/6ffa5648b2288d02e3c3086647aa150168a31d3d/lib/POMDPTools/src/Policies/policy_evaluation.jl#L13-L28">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../beliefs/">« Implemented Belief Updaters</a><a class="docs-footer-nextpage" href="../simulators/">Implemented Simulators »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Friday 12 July 2024 21:57">Friday 12 July 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
